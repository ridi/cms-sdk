{"version":3,"sources":["../../lib/CmsClient/index.js"],"names":["CmsClient","endpoint","urlObj","parse","connection","createHttpConnection","hostname","port","path","pathname","https","protocol","transport","TBufferedTransport","TJSONProtocol","headers","Accept","adminMenu","adminTag","adminUser"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;IAEMA,S,GACJ,qBAA2C;AAAA,MAA/BC,QAA+B,uEAApB,kBAAoB;;AAAA;;AACzC,MAAMC,SAAS,cAAIC,KAAJ,CAAUF,QAAV,CAAf;AACA,MAAMG,aAAa,iBAAOC,oBAAP,CAA4BH,OAAOI,QAAnC,EAA6CJ,OAAOK,IAApD,EAA0D;AAC3EC,UAAMN,OAAOO,QAD8D;AAE3EC,WAAOR,OAAOS,QAAP,KAAoB,QAFgD;AAG3EC,eAAW,iBAAOC,kBAHyD;AAI3EF,cAAU,iBAAOG,aAJ0D;AAK3EC,aAAS;AACPC,cAAQ;AADD;AALkE,GAA1D,CAAnB;;AAUA,OAAKC,SAAL,GAAiB,4BAAkB,WAAlB,8BAAiDb,UAAjD,CAAjB;AACA,OAAKc,QAAL,GAAgB,4BAAkB,UAAlB,6BAA+Cd,UAA/C,CAAhB;AACA,OAAKe,SAAL,GAAiB,4BAAkB,WAAlB,8BAAiDf,UAAjD,CAAjB;AACD,C;;kBAGYJ,S","file":"index.js","sourcesContent":["import thrift from 'thrift';\nimport url from 'url';\nimport AdminMenuService from './thrift/AdminMenuService';\nimport AdminTagService from './thrift/AdminTagService';\nimport AdminUserService from './thrift/AdminUserService';\nimport ClientWrapper from './ClientWrapper';\n\nclass CmsClient {\n  constructor(endpoint = 'http://localhost') {\n    const urlObj = url.parse(endpoint);\n    const connection = thrift.createHttpConnection(urlObj.hostname, urlObj.port, {\n      path: urlObj.pathname,\n      https: urlObj.protocol === 'https:',\n      transport: thrift.TBufferedTransport,\n      protocol: thrift.TJSONProtocol,\n      headers: {\n        Accept: 'application/x-thrift',\n      },\n    });\n\n    this.adminMenu = new ClientWrapper('AdminMenu', AdminMenuService, connection);\n    this.adminTag = new ClientWrapper('AdminTag', AdminTagService, connection);\n    this.adminUser = new ClientWrapper('AdminUser', AdminUserService, connection);\n  }\n}\n\nexport default CmsClient;\n"]}